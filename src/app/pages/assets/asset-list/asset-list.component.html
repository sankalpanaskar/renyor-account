<div class="asset-list-container">
  <div class="row">
    <div class="col-lg-12">
      <nb-card>
        <nb-card-header class="section-header">Asset List</nb-card-header>

        <nb-card-body [nbSpinner]="isSubmitting" nbSpinnerStatus="primary" class="asset-list-body">
          
          <!-- ðŸ”¹ Top Filter Form -->
          <form #fm="ngForm" class="filter-form" (ngSubmit)="onSubmit(fm)">
            <div class="row align-items-center">
              
              <div class="col-lg-5">
                <nb-select
                  shape="semi-round"
                  placeholder="Select Type"
                  name="search_type"
                  fullWidth
                  required
                  #search_type="ngModel"
                  [(ngModel)]="model.search_type">
                  <nb-option value="Anudip ID No">Anudip ID No</nb-option>
                  <nb-option value="Serial No">Serial No</nb-option>
                  <nb-option value="Voucher No">Voucher No</nb-option>
                  <nb-option value="Invoice No">Invoice No</nb-option>
                </nb-select>
                <div *ngIf="fm.submitted && search_type.invalid" class="error-message">
                  Search type is required
                </div>
              </div>

              <div class="col-lg-5">
                <input
                  type="text"
                  nbInput
                  fullWidth
                  shape="semi-round"
                  placeholder="Search By Id No"
                  name="keyword"
                  required
                  #keyword="ngModel"
                  [(ngModel)]="model.keyword" />
                <div *ngIf="fm.submitted && keyword.invalid" class="error-message">
                  ID No is required
                </div>
              </div>

              <div class="col-lg-2 text-end">
                <button
                  nbButton
                  status="primary"
                  shape="semi-round"
                  hero
                  type="submit"
                  [disabled]="isSubmitting">
                  SEARCH
                </button>
              </div>
            </div>
          </form>

          <!-- ðŸ”¹ Loading Spinner Overlay -->
          <div *ngIf="loading" class="loading-overlay d-flex justify-content-center align-items-center">
            <nb-spinner size="large" status="primary"></nb-spinner>
          </div>

          <!-- ðŸ”¹ Table Section -->
          <div [class.content-blur]="loading">
            <div class="row mt-3">
              <div class="col-12">
                <input
                  type="text"
                  nbInput
                  fullWidth
                  shape="semi-round"
                  #search
                  class="search"
                  placeholder="Search..." />
              </div>

              <div class="col-12 mt-2">
                <ng2-smart-table
                  [settings]="settings"
                  [source]="source">
                </ng2-smart-table>
              </div>
            </div>
          </div>

        </nb-card-body>
      </nb-card>
    </div>
  </div>
</div>
