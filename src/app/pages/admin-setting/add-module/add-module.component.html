<form #fm="ngForm" (ngSubmit)="onSubmit(fm)" novalidate id="leadForm" style="width: 100%;margin: 0 auto;">      
    <nb-card>
        <nb-card-header>Add Package</nb-card-header>
            <nb-card-body [nbSpinner]="isSubmitting" nbSpinnerStatus="primary">
                <div class="row">
                    <div class="col-lg-6 mb-10">
                        <label class="small-label" id="label-category">Name <span
                                style="color:#d32f2f">*</span></label>
                        <input type="text" nbInput fullWidth shape="semi-round" placeholder="Enter Package Name"
                            name="package_name" required #package_name="ngModel" [(ngModel)]="model.package_name">
                        <div *ngIf="fm.submitted && package_name.invalid" class="error-message">
                            Package name is required
                        </div>
                    </div>
                    <div class="col-lg-6 mb-10">
                        <label class="small-label" id="label-category">Assign Privilage <span style="color:#d32f2f">*</span></label>
                        <div class="validation-checkboxes">
                            <nb-checkbox (checkedChange)="onPermissionChange('CREATE', $event)" [checked]="permissions.includes('CREATE')">
                                Create
                            </nb-checkbox>

                            <nb-checkbox (checkedChange)="onPermissionChange('VIEW', $event)" [checked]="permissions.includes('VIEW')">
                                View
                            </nb-checkbox>

                            <nb-checkbox (checkedChange)="onPermissionChange('UPDATE', $event)" [checked]="permissions.includes('UPDATE')">
                                Update
                            </nb-checkbox>

                            <nb-checkbox (checkedChange)="onPermissionChange('DELETE', $event)" [checked]="permissions.includes('DELETE')">
                                Delete
                            </nb-checkbox>

                            <div *ngIf="permissions.length === 0" class="error-message">
                                Select at least one permission
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12 mb-10">
                        <label class="small-label" id="label-category">Details </label>
                        <textarea nbInput fullWidth shape="semi-round" placeholder="Enter details" name="package_details"
                        [(ngModel)]="model.package_details" #package_details="ngModel" rows="3" [maxlength]="500"></textarea>
                    </div>

                </div>
            </nb-card-body>
        <nb-card-footer>
            <div class="mt-3" style="display:flex; justify-content:flex-end; gap:8px;">
                <button nbButton status="primary" shape="semi-round" hero type="submit"
                    [disabled]="isSubmitting">
                    Save
                </button>
            </div>
        </nb-card-footer>
    </nb-card>
</form>
