<!-- Show this ONLY if role_id is 51 -->
<div *ngIf="globalService.role_id === 51" class="welcome-banner">
  <h1>Welcome to <span>Anudip Foundation</span></h1>
</div>

<!-- Show this for all roles EXCEPT 51 -->
<div *ngIf="globalService.role_id !== 51" class="dashboard-grid">

  <div class="followup-buttons-wrapper">
  <button
    *ngFor="let btn of fourButtonsData"
    nbButton
    size="small"
    [status]="getButtonStatus(btn.title)"
    (click)="redirectToManageLead(btn.lead_id,undefined, btn.title)"
    outline
  >
    {{ btn.title }}
    <span class="count-badge"> {{ btn.value }} </span>
  </button>
</div>


  <!-- Date Range Filter -->
  <form #fm="ngForm" (ngSubmit)="onFilterSubmit(fm)" class="date-filter">
    <!-- Start Date -->
    <div class="date-field-wrapper">
      <nb-form-field class="date-field">
        <nb-icon nbPrefix icon="calendar-outline"></nb-icon>
        <input
          nbInput
          placeholder="From Date"
          name="startDate"
          [(ngModel)]="model.startDate"
          [nbDatepicker]="startPicker"
          required
          #startDateRef="ngModel"
        />
        <nb-datepicker #startPicker></nb-datepicker>
      </nb-form-field>
      <div class="error-message" *ngIf="fm.submitted && startDateRef.invalid">
        Start date is required.
      </div>
    </div>

    <!-- End Date -->
    <div class="date-field-wrapper">
      <nb-form-field class="date-field">
        <nb-icon nbPrefix icon="calendar-outline"></nb-icon>
        <input
          nbInput
          placeholder="To Date"
          name="endDate"
          [(ngModel)]="model.endDate"
          [nbDatepicker]="endPicker"
          required
          #endDateRef="ngModel"
        />
        <nb-datepicker #endPicker></nb-datepicker>
      </nb-form-field>
      <div class="error-message" *ngIf="fm.submitted && endDateRef.invalid">
        End date is required.
      </div>
    </div>

    <!-- Filter Button -->
    <button nbButton status="primary" type="submit">Filter</button>
  </form>

  <!-- Spinner -->
  <div *ngIf="isSubmitting" class="loading-overlay d-flex justify-content-center align-items-center">
    <nb-spinner size="large" status="primary"></nb-spinner>
  </div>

  <!-- Summary Cards -->
  <div class="summary-cards compact">
    <nb-card *ngFor="let stat of statsData" class="compact-card clickable-card" (click)="redirectToManageLead(stat.lead_ids, stat.lead_status_id,stat.title)">
      <nb-card-header>{{ stat.title }}</nb-card-header>
      <nb-card-body class="summary-value">{{ stat.value }}</nb-card-body>
    </nb-card>
  </div>
</div>
